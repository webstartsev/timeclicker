(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a(33)},19:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){},27:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(11),r=a.n(i),c=(a(19),a(7)),l=a(13),o=a(2),u=a(3),d=a(5),m=a(4),k=a(6),f=a(1),v=a(12);a(23),a(25),a(27);function b(e){var t=~~(e/3600),a=~~(e%3600/60),n=e%60,s="";return t>0?(s+=t<10?"0"+t+":":t+":",s+=a<10?"0"+a+":":a):(s+=a<10?"0"+a+":":a+":",s+=n<10?"0"+n:n),s}var T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).beforeAction=a.beforeAction.bind(Object(f.a)(Object(f.a)(a))),a}return Object(k.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,a=t.task,n=t.currentTask;return a.status!==e.task.status||null!==n&&n.id===e.task.id&&n.time!==e.time}},{key:"beforeAction",value:function(e,t){(0,this.props.onAction)(e,t)}},{key:"showError",value:function(e){e.classList.add("TaskItem-deadline_error")}},{key:"removeError",value:function(e){e.classList.remove("TaskItem-deadline_error")}},{key:"render",value:function(){var e=this.beforeAction,t=this.props,a=t.task,n=t.currentTask,i=t.time;console.log("currentTask: ",n);var r=(a.time,~~((60*a.deadline*60-7800)/3600));return s.a.createElement("div",{className:"TaskItem",style:this.style},s.a.createElement("div",{className:"TaskItem-title"},a.title),s.a.createElement("div",{className:"TaskItem-detail"},s.a.createElement("div",{className:"TaskItem-action"},"play"!==a.status?s.a.createElement("button",{onClick:function(){return e(a.id,"play")},className:"TaskItem-btn TaskItem_type_play"},"Play"):s.a.createElement("button",{onClick:function(){return e(a.id,"stop")},className:"TaskItem-btn TaskItem_type_stop"},"Stop")),s.a.createElement("div",{className:"TaskItem-times"},s.a.createElement("div",{className:"TaskItem-time"},b(null!==n?i:a.time)),s.a.createElement("div",{className:"TaskItem-deadline"},a.deadline),s.a.createElement("div",{className:r<0?"TaskItem-diff TaskItem-diff_error":"TaskItem-diff"},r))))}}]),t}(s.a.Component);T.defaultProps={task:{},onAction:function(e){return e},time:0,onChangeDeadline:function(e){return e}};var p=T,h=function(e){var t=e.data,a=void 0===t?[]:t,n=e.currentTask,i=void 0===n?{}:n,r=e.onAction,c=void 0===r?function(e){return e}:r,l=e.time,o=void 0===l?0:l,u=e.onChangeDeadline,d=void 0===u?function(e){return e}:u;return s.a.createElement("div",{className:"TaskList"},s.a.createElement("div",{className:"TaskList-header"},s.a.createElement("div",{className:"TaskList-col TaskList-col_type_name"},"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),s.a.createElement("div",{className:"TaskList-groupe"},s.a.createElement("div",{className:"TaskList-col"},"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435"),s.a.createElement("div",{className:"TaskList-col"},"\u0412\u0440\u0435\u043c\u044f"),s.a.createElement("div",{className:"TaskList-col"},"\u0414\u0435\u0439\u0434\u043b\u0430\u0439\u043d"),s.a.createElement("div",{className:"TaskList-col"},"\u0420\u0430\u0437\u043d\u0438\u0446\u0430"))),a.map(function(e){return s.a.createElement(p,{key:e.id,currentTask:i,task:e,onAction:c,time:o,onChangeDeadline:d})}))},E=(a(29),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).submit=a.submit.bind(Object(f.a)(Object(f.a)(a))),a}return Object(k.a)(t,e),Object(u.a)(t,[{key:"submit",value:function(e){var t=this.refs._title,a=this.props.onSubmit;e.preventDefault(),""!==t.value&&(a(t.value),t.value="")}},{key:"render",value:function(){return s.a.createElement("form",{className:"AddTask",onSubmit:this.submit},s.a.createElement("div",{className:"AddTask-wrap"},s.a.createElement("input",{ref:"_title",className:"AddTask-input"}),s.a.createElement("input",{type:"submit",value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})))}}]),t}(s.a.Component));E.defaultProps={onSubmit:function(e){return e}};var j=E,O=(a(31),function(e){var t=e.currentTask,a=void 0===t?{}:t,n=e.time,i=void 0===n?"":n;return s.a.createElement("div",{className:"CurrentTask"},s.a.createElement("div",{className:"CurrentTask-wrapper"},s.a.createElement("div",{className:"CurrentTask-title"},a.title),s.a.createElement("div",{className:"CurrentTask-time"},i)))}),y=[{id:"0175d1f0-a8c6-41bf-8d02-df5734d829a4",title:"\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0443",status:"stop",time:0,deadline:0,diff:0},{id:"0175d1f0-a8c6-41bf-8d02-df5734123123d829a4",title:"sdfsdfsfsdf",status:"stop",time:0,deadline:2,diff:0},{id:"0175d1f0-a8c6-41bf-8d02-df5734d85346769a4",title:"23424234\u0443 3",status:"stop",time:0,deadline:15,diff:0}],N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={tasks:y,currentTask:null,time:0,timerId:null},a.addTask=a.addTask.bind(Object(f.a)(Object(f.a)(a))),a.taskAction=a.taskAction.bind(Object(f.a)(Object(f.a)(a))),a.changeDeadline=a.changeDeadline.bind(Object(f.a)(Object(f.a)(a))),a}return Object(k.a)(t,e),Object(u.a)(t,[{key:"addTask",value:function(e){var t=[this._prepareTask(e)].concat(Object(l.a)(this.state.tasks));this.setState({tasks:t})}},{key:"_prepareTask",value:function(e){return{id:Object(v.v4)(),title:e,status:"stop",time:null,deadline:null}}},{key:"taskAction",value:function(e,t){var a=this,n=this.state.tasks.map(function(n){if(n.id===e){switch(t){case"stop":a.stopTask();break;default:a.startTask(n)}return Object(c.a)({},n,{status:t,time:a.state.time})}return"play"===n.status?Object(c.a)({},n,{status:"stop"}):n});this.setState({tasks:n})}},{key:"startTask",value:function(e){var t=this,a=e.time;null!==this.state.timerId&&clearTimeout(this.state.timerId);var n=setInterval(function(){var n=a++;t.setState({currentTask:Object(c.a)({},e,{time:n}),time:n})},1e3);this.setState({currentTask:Object(c.a)({},e,{status:"start"}),time:a,timerId:n})}},{key:"stopTask",value:function(){clearTimeout(this.state.timerId),this.setState({currentTask:null})}},{key:"changeDeadline",value:function(e){console.log("value: ",e)}},{key:"render",value:function(){var e=this.state,t=e.tasks,a=e.time,n=e.currentTask,i=this.addTask,r=this.taskAction,c=this.changeDeadline;return s.a.createElement("div",{className:"App"},s.a.createElement(j,{onSubmit:i}),s.a.createElement(h,{data:t,onAction:r,currentTask:n,time:a,onChangeDeadline:c}),n&&s.a.createElement(O,{currentTask:n,time:b(a)}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.f32d38f9.chunk.js.map